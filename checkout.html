<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - RIZZPHONE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <i class="fa-solid fa-mobile-screen-button"></i> RIZZPHONE
        </div>
        
        <div class="nav-right-group">
            <div class="search-bar">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="searchInput" placeholder="Search phone..." onkeypress="handleSearch(event)">
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
            </ul>
            <div id="nav-user-area">
                <button class="btn-login" onclick="toggleLoginModal()">Login</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <h2 class="section-title">Secure Checkout</h2>
        
        <div class="checkout-wrapper">
            <div class="checkout-form">
                <h3 style="color:white; font-family:'Playfair Display'; margin-bottom:30px;">
                    <i class="fa-solid fa-truck-fast" style="color:var(--accent-gold); margin-right:10px;"></i> Shipping Details
                </h3>
                
                <form onsubmit="event.preventDefault(); processPayment();">
                    <label><i class="fa-regular fa-user"></i> Full Name</label>
                    <input type="text" id="buyerName" class="modal-input" placeholder="e.g. John Doe" required>
                    
                    <label><i class="fa-solid fa-map-location-dot"></i> Shipping Address</label>
                    <input type="text" class="modal-input" placeholder="Street name, House number, City" required>
                    
                    <label><i class="fa-solid fa-phone"></i> Phone Number</label>
                    <input type="number" class="modal-input" placeholder="e.g. 08123456789" required>
                    
                    <label><i class="fa-regular fa-credit-card"></i> Payment Method</label>
                    <select id="paymentSelect" class="modal-input" onchange="updatePaymentInfo()" required>
                        <option value="" disabled selected>-- Select Payment Method --</option>
                        <option value="bca">Bank Transfer (BCA)</option>
                        <option value="mandiri">Bank Transfer (Mandiri)</option>
                        <option value="cod">COD (Cash on Delivery)</option>
                    </select>
                    
                    <div id="paymentInfo" class="payment-box" style="display:none;"></div>
                    
                    <button type="submit" class="btn-cta" style="width:100%; margin-top:30px; font-size:1rem; padding:15px;">
                        Place Order <i class="fa-solid fa-arrow-right" style="margin-left:10px;"></i>
                    </button>
                </form>
            </div>
            
            <div class="checkout-summary">
                <h3 style="color:var(--accent-gold); font-family:'Playfair Display'; margin-bottom:20px;">Order Summary</h3>
                
                <img id="checkoutImg" src="" alt="Product Image">
                
                <h4 id="checkoutName" style="color:white; margin:15px 0; font-size:1.2rem;">Loading...</h4>
                
                <div class="summary-row">
                    <span>Product Price</span>
                    <span id="checkoutPrice" style="color:white;">Rp 0</span>
                </div>
                <div class="summary-row">
                    <span>Shipping Fee</span>
                    <span style="color:#00ff88;">Free (Promo)</span>
                </div>
                <div class="summary-row">
                    <span>Insurance</span>
                    <span style="color:#00ff88;">Included</span>
                </div>
                
                <div class="total-row">
                    <span style="color:#ccc;">Total Payment</span>
                    <span id="checkoutTotal" class="amount">Rp 0</span>
                </div>
                
                <p style="font-size:0.8rem; color:#666; margin-top:20px;">
                    <i class="fa-solid fa-shield-halved"></i> 100% Secure Payment
                </p>
            </div>
        </div>
    </div>

    <div id="successModal" class="modal">
        <div class="modal-content" style="text-align: center; padding: 40px;">
            <i class="fa-solid fa-circle-check" style="font-size: 4rem; color: var(--accent-gold); margin-bottom: 20px;"></i>
            <h2 style="color:var(--accent-gold); font-family:'Playfair Display'">Order Placed!</h2>
            <p style="color: #ccc; margin-bottom: 5px;">Thank you, <b id="succName" style="color:white"></b></p>
            <p style="color: #ccc;">Order ID: <b id="orderId" style="color:var(--accent-gold); letter-spacing: 1px;">...</b></p>
            <p style="font-size: 0.85rem; color: #888; margin-top: 20px;">We will contact you shortly for confirmation.</p>
            <button class="btn-cta" onclick="window.location.href='index.html'" style="margin-top: 30px; width:100%;">Back to Home</button>
        </div>
    </div>
    
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleLoginModal()">&times;</span>
            <h2 id="authTitle" style="color:var(--accent-gold)">Member Login</h2>
            <form id="authForm" onsubmit="handleAuth(event)">
                <input type="text" id="usernameInput" placeholder="Username" class="modal-input" required>
                <input type="password" id="passwordInput" placeholder="Password" class="modal-input" required>
                <button type="submit" id="authBtn" class="btn-cta" style="width:100%">LOGIN</button>
            </form>
            <div class="auth-toggle" id="authToggleText">
                Don't have an account? <span onclick="switchAuthMode()">Register here</span>
            </div>
        </div>
    </div>

    <div id="confirmModal" class="modal" style="z-index: 3100;">
        <div class="modal-content" style="width: 300px;">
            <h3 style="color:white; margin-bottom:10px;">Confirm Logout</h3>
            <p style="color:#ccc;">Are you sure you want to log out?</p>
            <div class="confirm-buttons">
                <button class="btn-confirm-no" onclick="confirmLogout(false)">Cancel</button>
                <button class="btn-confirm-yes" onclick="confirmLogout(true)">Yes, Logout</button>
            </div>
        </div>
    </div>

    <div id="toast-container"></div>
    <script src="script.js"></script>
</body>
</html>